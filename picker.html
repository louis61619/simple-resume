<!DOCTYPE html>
<html>
  <head>
    <title>Picker API Quickstart</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="./main.css" />
    <link rel="stylesheet" href="./preview.css" />
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="./sample.js"></script>
  </head>
  <body>

    <!-- loading -->
    <div id="loading" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 10007; background-color: #fff; display: flex; align-items: center; justify-content: center;">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: rgba(241, 242, 243, 0); display: block;" width="200px" height="200px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
        <path fill="none" stroke="#4b5ccc" stroke-width="8" stroke-dasharray="42.76482137044271 42.76482137044271" d="M24.3 30C11.4 30 5 43.3 5 50s6.4 20 19.3 20c19.3 0 32.1-40 51.4-40 C88.6 30 95 43.3 95 50s-6.4 20-19.3 20C56.4 70 43.6 30 24.3 30z" stroke-linecap="round" style="transform:scale(0.8);transform-origin:50px 50px">
          <animate attributeName="stroke-dashoffset" repeatCount="indefinite" dur="1s" keyTimes="0;1" values="0;256.58892822265625"></animate>
        </path>
      </svg>
    </div>

    <!-- auth dialog -->
    <div
      class="dialog"
      id="authorize_dialog"
      style="
        width: 300px;
        height: 150px;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 10006;
      "
    >
      <div style="text-align: center; max-height: 100%" id="authorize_content">
        <p style="font-size: 24px; padding: 0px; margin: 0px; color: gray">
          需要授權
        </p>
        <p style="font-size: 16px; padding: 16px;">在 Google Drive 中授權此應用：</p>
        <button
          class="button"
          style="margin-top: 6px; font-size: 18px; padding: 14px 20px"
          id="authorize_button"
          onclick="handleAuthClick()"
        >
          授權
        </button>
      </div>
    </div>
    

    <!-- 開啟簡歷dialog -->
    <div
      class="dialog"
      id="folder_dialog"
      style="
        width: 300px;
        height: 150px;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 999;
      "
    >
      <div style="text-align: center; max-height: 100%">
        <div
          style="
            margin: 8px 0px 0px;
            padding: 18px 0px;
            border-width: 1px 0px;
            border-style: solid;
            border-color: rgb(211, 211, 211);
            border-image: initial;
          "
        >
          <button
            class="button"
            style="
              margin-bottom: 8px;
              font-size: 18px;
              padding: 10px;
              width: 100%;
            "
            onclick="newResume()"
          >
            創建新簡歷
          </button>
          <br />
          <button
            class="button"
            style="
              margin-bottom: 8px;
              font-size: 18px;
              padding: 10px;
              width: 100%;
            "
            onclick="createPicker()"
          >
            打開現有簡歷
          </button>
        </div>
      </div>
    </div>

    <div class="main">
      <div class="menu">
        
        
        <span onclick="print()" class="float-text">
          打印
          <!-- <span class="text">
            if you want to print this resume, you need unenable headers and
            footers then enable background graphics.
          </span> -->
        </span>
        <button
          onclick="saveResume()"
        >
          保存
        </button>
        <button
          onclick="publishResume()"
        >
          發布
        </button>
        <button
          onclick="createPicker()"
        >
          打開現有簡歷
        </button>
        <button
          onclick="newResume()"
        >
          創建新簡歷
        </button>
        <button id="signout_button" onclick="handleSignoutClick()">
          登出
        </button>
      </div>
      <div class="content">
        <div class="text-board">
          <textarea id="text"></textarea>
        </div>
        <div class="text-preview" id="preview">
          <div class="row row--section">
            <div class="column column--1-1" id="content"></div>
          </div>
        </div>
      </div>
      
    </div>
    
    

    <script src="./editor.js"></script>
    <script src="./picker.js"></script>
    <script
      async
      defer
      src="https://apis.google.com/js/api.js"
      onload="gapiLoaded()"
    ></script>
    <script
      async
      defer
      src="https://accounts.google.com/gsi/client"
      onload="gisLoaded()"
    ></script>
  </body>
</html>
